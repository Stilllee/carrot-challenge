(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(4973)}])},4973:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(5893),s=r(1163),o=r(7294),i=r(8100),l=r(4051),a=r.n(l);function c(e,t,r,n,s,o,i){try{var l=e[o](i),a=l.value}catch(c){return void r(c)}l.done?t(a):Promise.resolve(a).then(n,s)}var u=function(){var e=(0,s.useRouter)(),t=function(){var t,r=(t=a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/users/logout",{method:"POST"});case 3:e.replace("/log-in"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328:",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,r=arguments;return new Promise((function(n,s){var o=t.apply(e,r);function i(e){c(o,n,s,i,l,"next",e)}function l(e){c(o,n,s,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,n.jsx)("button",{className:"fixed flex items-center justify-center px-4 py-2 text-xl font-bold transition-colors border-transparent border-none shadow-xl cursor-pointer rounded-3xl top-5 right-5 bg-butter-yellow hover:bg-butter-red text-butter-red hover:text-butter-yellow",onClick:t,children:"Log Out"})},d=r(1664),x=r.n(d),f=r(8260),p=function(){var e,t=(0,s.useRouter)(),r=(0,i.ZP)("/api/users/me"),l=r.data,a=r.error,c=(0,i.ZP)("/api/tweets").data,d=function(e){var t=new Date(e);return(0,f.Z)(t,"yyyy-MM-dd HH:mm:ss")};return(0,o.useEffect)((function(){a&&t.replace("/log-in")}),[t,a]),l?(0,n.jsxs)("div",{className:"p-3 bg-butter-lavender",children:[(0,n.jsxs)("div",{className:"flex justify-between p-3 mb-4 ",children:[(0,n.jsxs)("h1",{className:"text-4xl font-bold text-butter-blue",children:["Hello ",null===l||void 0===l?void 0:l.name,"!"]}),(0,n.jsx)(u,{})]}),(0,n.jsx)("div",{className:"space-y-4",children:null===c||void 0===c||null===(e=c.tweets)||void 0===e?void 0:e.map((function(e){var t,r;return(0,n.jsx)(x(),{href:"/tweet/".concat(e.id),children:(0,n.jsxs)("div",{className:"flex flex-col items-start pt-4 border-2 cursor-pointer bg-amber-50",children:[(0,n.jsx)("span",{className:"flex ml-4 items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-butter-yellow text-gray-800",children:"\ud2b8\uc717"}),(0,n.jsxs)("div",{className:"px-4 mt-2 text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium text-orange-500"})," ",null===e||void 0===e?void 0:e.text]}),(0,n.jsxs)("div",{className:"flex items-center justify-between w-full px-4 mt-5 text-xs font-medium text-gray-500",children:[(0,n.jsx)("span",{children:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name}),(0,n.jsx)("span",{children:d(null===e||void 0===e?void 0:e.updatedAt.toLocaleString("ko-KR"))})]}),(0,n.jsx)("div",{className:"flex px-4 space-x-5 mt-3 text-gray-700 py-2.5 border-t w-full",children:(0,n.jsxs)("span",{className:"flex items-center space-x-2 text-sm",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,n.jsxs)("span",{children:["\ub9c8\uc74c\uc5d0 \ub4e4\uc5b4\uc694 ",null===(r=e._count)||void 0===r?void 0:r.likes]})]})})]})},e.id)}))}),(0,n.jsx)("div",{className:"fixed flex items-center justify-center p-4 text-white transition-colors border-transparent border-none rounded-full shadow-xl cursor-pointer bottom-5 right-5 hover:bg-butter-mint aspect-square w-14 bg-butter-yellow",children:(0,n.jsx)(x(),{href:"/tweet/upload",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})})]}):(0,n.jsx)("div",{})}}},function(e){e.O(0,[424,260,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);